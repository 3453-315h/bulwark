<div class="container-fluid">
  <h1>Vulnerability Submission</h1>
  <hr>
    <h2>Vulnerability Data</h2>
    <form [formGroup]='vulnEventForm' name="vulnEventForm" (ngSubmit)="onSubmit(vulnEventForm)">
      <div class="form-row">
        <div class="col-4">
          <label for="name">Vulnerability Name</label>
          <input formControlName="name" type="text" class="form-control" id="name" placeholder="Vulnerability Name">
          <div *ngIf="vulnEventForm.controls['name'].errors && !vulnEventForm.controls['name'].pristine"
            class="alert alert-danger">Vulnerability name is required</div>
        </div>
        <div class="col-2">
          <label for="status">Status</label>
          <select formControlName="status" class="form-control form-control-sm" id="status">
              <option>Open</option>
              <option>Resolved</option>
              <option>Verification</option>
              <option>On Hold</option>
            </select>
            <div *ngIf="vulnEventForm.controls['name'].errors && !vulnEventForm.controls['name'].pristine"
              class="alert alert-danger">Vulnerability name is required</div>
        </div>
          <div class="col-2">
              <label for="likelihood">Likelihood</label>
              <select formControlName="likelihood" class="form-control form-control-sm" id="likelihood">
                <option>Critical</option>
                <option>High</option>
                <option>Medium</option>
                <option>Low</option>
              </select>
              <div *ngIf="vulnEventForm.controls['likelihood'].errors && !vulnEventForm.controls['likelihood'].pristine"
                class="alert alert-danger">Likelihood not valid</div>
          </div>
      </div>
      <div class="row">
        <div class="col">
          <label for="impact">Impact</label>
          <input formControlName="impact" type="text" class="form-control" id="impact" placeholder="Impact">
          <div *ngIf="vulnEventForm.controls['impact'].errors && !vulnEventForm.controls['impact'].pristine"
            class="alert alert-danger">Impact is required</div>
        </div>
      </div>
      <br />
       <div class="row">
          <div class="col">
            <label for="risk">Risk</label>
            <select formControlName="risk" class="form-control form-control-sm" id="risk">
              <option>Critical</option>
              <option>High</option>
              <option>Medium</option>
              <option>Low</option>
            </select>
            <div *ngIf="vulnEventForm.controls['risk'].errors && !vulnEventForm.controls['risk'].pristine"
              class="alert alert-danger">Risk not valid</div>
          </div>
        </div>
      <br />
      <button [disabled]="!vulnEventForm.valid || !validateDates(vulnEventForm)" type="submit"
        class="btn btn-success">Submit</button>
    </form>  
</div>

